<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitaci√≥n de Ailany</title>
<link href="https://fonts.googleapis.com/css2?family=Castoro+Script&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Montserrat', sans-serif; background: linear-gradient(135deg,#FADADD,#FFE4E1); color:#fff; overflow-x:hidden; text-align:center; }
.hidden { display:none; }

/* CASTILLO 3D */
#castle-container { perspective:1200px; margin:50px 0; }
#castle { width:200px; height:200px; margin:0 auto; background:linear-gradient(to top,#FFB6C1,#FFC0CB); transform-style:preserve-3d; transition: transform 1s; position:relative; }
.tower { position:absolute; width:40px; height:80px; background:linear-gradient(to top,#FFC0CB,#FF69B4); border-radius:5px; top:-40px; }
.tower1 { left:-20px; transform:rotateY(10deg); }
.tower2 { right:-20px; transform:rotateY(-10deg); }
#castle-door { width:50px; height:100px; background:#D2691E; margin:50px auto 0; cursor:pointer; transform-origin:left center; border-radius:0 0 5px 5px; }

/* TEXTOS */
#initial-text { opacity:0; font-family:'Castoro Script', cursive; font-size:2rem; color:#ff69b4; margin-top:20px; transition:opacity 1s; }
#initial-text.visible { opacity:1; }

#title-container h1,#title-container h2 { text-shadow:0 0 5px #fff,0 0 10px #ff69b4,0 0 20px #ff1493; margin:10px 0; }
#crown { width:100px; height:100px; margin:10px auto; background:url('tu_corona.gif') no-repeat center/contain; animation:rotateCrown 8s linear infinite; }

@keyframes rotateCrown {
  0% { transform:rotateY(0deg); }
  100% { transform:rotateY(360deg); }
}

/* CORONAS FLOTANTES */
.floating-crown { position:absolute; background:url('tu_corona.gif') no-repeat center/contain; opacity:0.7; pointer-events:none; }

/* PARTICULAS MAGICAS */
.particle { position:absolute; width:5px; height:5px; background:radial-gradient(circle,#fff,#ff69b4); border-radius:50%; pointer-events:none; }

/* CONTENIDO PRINCIPAL */
#main-content { padding:20px; }
#countdown { font-size:1.5rem; margin:20px 0; }
.btn { display:inline-block; padding:10px 20px; margin:5px 0; background:#ff69b4; color:#fff; text-decoration:none; border-radius:10px; }
form { display:flex; flex-direction:column; gap:10px; align-items:center; margin-top:10px; }
input { padding:5px; border-radius:5px; border:none; text-align:center; }
.btn:hover { background:#ff1493; }
</style>
</head>
<body>

<div id="castle-container">
  <div id="castle">
    <div class="tower tower1"></div>
    <div class="tower tower2"></div>
    <div id="castle-door"></div>
  </div>
</div>

<div id="initial-text">¬°Te invito a mi fiesta!</div>

<div id="main-content" class="hidden">
  <div id="title-container" style="position:relative;">
    <h1>Mis V A√±os</h1>
    <h2>Ailany</h2>
    <div id="crown"></div>
  </div>

  <div id="countdown"></div>

  <div id="ceremony-info">
    <p>üìÖ Fecha: 23 de noviembre 2025</p>
    <p>üï∞Ô∏è Hora: 1:00 pm</p>
    <p>üìç Lugar: Iglesia del Santo Entierro o Santo Sepulcro</p>
    <a href="https://maps.app.goo.gl/MESG66t5392Zncfm8" class="btn" target="_blank">Ver ubicaci√≥n</a>
  </div>

  <div id="reception-info">
    <p>üìÖ Fecha: 23 de noviembre 2025</p>
    <p>üï∞Ô∏è Hora: 4:00 pm</p>
    <p>üìç Lugar: Sal√≥n jard√≠n Joss Mary</p>
    <a href="https://maps.app.goo.gl/Uw6MZtHp4LnNYkwTA" class="btn" target="_blank">Ver ubicaci√≥n</a>
  </div>

  <div id="kids-entertainment">
    <p>üé® Pintacaritas: 4:30 pm</p>
    <p>ü§° Show del payaso: 7:00 pm</p>
  </div>

  <div id="gifts">
    <p>üéÅ Si deseas obsequiarme algo te sugiero:</p>
    <ul>
      <li>Ropa talla 8</li>
      <li>Zapatos #18</li>
      <li>Mu√±ecas, pintura, rompecabezas, memoramas</li>
      <li>Domin√≥, juegos de t√© y cocina</li>
      <li>Libros para colorear o cuentos interactivos</li>
      <li>Si tu regalo es dinero, lo agradezco mucho, ser√° para mi alcanc√≠a</li>
    </ul>
  </div>

  <div id="rsvp">
    <p>Confirma tu asistencia:</p>
    <form id="rsvp-form">
      <input type="text" name="name" placeholder="Nombre (m√≠n 3 letras)" required minlength="3">
      <input type="number" name="guests" placeholder="Total personas (m√°x 3)" required max="3">
      <button type="submit">Confirmar</button>
      <button type="button" id="no-attend">No asistir√©</button>
    </form>
  </div>

  <div id="photos">
    <button id="photo-reminder" class="btn">Recordatorio: Tomar fotos üéâ</button>
  </div>
</div>

<audio id="audio" src="golden_spanish.mp3" preload="auto"></audio>

<script>
// VARIABLES
const door = document.getElementById('castle-door');
const initialText = document.getElementById('initial-text');
const mainContent = document.getElementById('main-content');
const audio = document.getElementById('audio');
const countdown = document.getElementById('countdown');

// PARTICULAS MAGICAS
for(let i=0;i<50;i++){
  let p = document.createElement('div');
  p.classList.add('particle');
  document.body.appendChild(p);
  p.style.left = Math.random()*window.innerWidth+'px';
  p.style.top = Math.random()*window.innerHeight+'px';
}

// MOVIMIENTO PARTICULAS AL CURSOR
document.addEventListener('mousemove', e=>{
  document.querySelectorAll('.particle').forEach(p=>{
    let x = parseFloat(p.style.left);
    let y = parseFloat(p.style.top);
    x += (e.clientX - x)*0.02;
    y += (e.clientY - y)*0.02;
    p.style.left = x+'px';
    p.style.top = y+'px';
  });
});

// CORONAS FLOTANTES
const crowns = [];
for(let i=0;i<10;i++){
  let c = document.createElement('div');
  c.classList.add('floating-crown');
  document.body.appendChild(c);
  c.style.left = Math.random()*window.innerWidth+'px';
  c.style.top = Math.random()*window.innerHeight+'px';
  let size = 30 + Math.random()*30;
  c.style.width = size+'px';
  c.style.height = size+'px';
  crowns.push({el:c, speed:0.2+Math.random()*0.3});
}
function animateCrowns(){
  crowns.forEach(c=>{
    let top = parseFloat(c.el.style.top);
    top += c.speed;
    if(top>window.innerHeight) top=-50;
    c.el.style.top = top+'px';
  });
  requestAnimationFrame(animateCrowns);
}
animateCrowns();

// TYPEWRITER
function typeWriter(el, text, i=0){
  if(i<text.length){
    el.textContent += text.charAt(i);
    setTimeout(()=>typeWriter(el,text,i+1),100);
  } else { audio.play(); }
}

// CLICK PUERTA
door.addEventListener('click', ()=>{
  door.style.transform = 'rotateY(90deg)';
  initialText.classList.add('visible');
  typeWriter(initialText, initialText.textContent);
  setTimeout(()=>mainContent.classList.remove('hidden'),2000);
});

// CUENTA REGRESIVA
const eventDate = new Date("November 23, 2025 13:00:00").getTime();
setInterval(()=>{
  const now = new Date().getTime();
  const distance = eventDate - now;
  const days = Math.floor(distance/(1000*60*60*24));
  const hours = Math.floor((distance%(1000*60*60*24))/(1000*60*60));
  const minutes = Math.floor((distance%(1000*60*60))/(1000*60));
  const seconds = Math.floor((distance%(1000*60))/1000);
  countdown.textContent = `‚è∞ ${days}d ${hours}h ${minutes}m ${seconds}s`;
},1000);

// RSVP FORMULARIO
document.getElementById('rsvp-form').addEventListener('submit', e=>{
  e.preventDefault();
  const name = e.target.name.value;
  const guests = e.target.guests.value;
  if(name.length<3 || guests<1 || guests>3){ alert("Datos inv√°lidos"); return; }

  // WhatsApp
  const phone = "522221012336";
  const msg = `Confirmo asistencia: ${name}, Total personas: ${guests}`;
  window.open(`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`,'_blank');

  // Calendario m√≥vil
  const start = new Date("November 23, 2025 13:00:00").toISOString().replace(/-|:|\.\d+/g,'');
  const end = new Date("November 23, 2025 16:00:00").toISOString().replace(/-|:|\.\d+/g,'');
  const ics = `BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTART:${start}
DTEND:${end}
SUMMARY:Fiesta de Ailany
DESCRIPTION:Confirmada asistencia de ${name}, Total personas: ${guests}
END:VEVENT
END:VCALENDAR`;
  const blob = new Blob([ics], {type:'text/calendar'});
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = "AilanyFiesta.ics";
  link.click();
  alert("¬°Gracias por confirmar! Evento agregado a tu calendario.");
});

// NO ASISTIR√â
document.getElementById('no-attend').addEventListener('click', ()=>{
  alert("Gracias por avisar, invitaci√≥n cancelada");
});

// RECORDATORIO FOTOS
document.getElementById('photo-reminder').addEventListener('click', ()=>{
  const now = new Date();
  const start = new Date(now.getTime()+1000*60*1); // +1 min solo ejemplo
  const end = new Date(start.getTime()+1000*60*30); // 30 min duraci√≥n
  const ics = `BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTART:${start.toISOString().replace(/-|:|\.\d+/g,'')}
DTEND:${end.toISOString().replace(/-|:|\.\d+/g,'')}
SUMMARY:Recordatorio: Tomar fotos en la fiesta de Ailany
DESCRIPTION:¬°No olvides tomar fotos! üì∏
END:VEVENT
END:VCALENDAR`;
  const blob = new Blob([ics], {type:'text/calendar'});
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = "RecordatorioFotos.ics";
  link.click();
  alert("Recordatorio agregado a tu calendario");
});
</script>

</body>
</html>
