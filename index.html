<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V A√±os de Ailany üëë</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ballet:wght@400&family=Parisienne&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 50%, #f9a8d4 100%);
            min-height: 100vh;
            padding: 0;
            position: relative;
            overflow-x: hidden;
        }

        /* ============================================
           SOBRE DE INVITACI√ìN
        ============================================ */
        .envelope-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s, visibility 0.5s;
        }

        .envelope-container.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .envelope {
            position: relative;
            width: 300px;
            height: 200px;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .envelope:hover {
            transform: scale(1.05);
        }

        .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .envelope-front {
            position: absolute;
            width: 100%;
            height: 60%;
            bottom: 0;
            background: linear-gradient(135deg, #f472b6 0%, #ec4899 100%);
            border-radius: 0 0 10px 10px;
            transform-origin: top;
            transition: transform 0.8s;
            z-index: 2;
        }

        .envelope.open .envelope-front {
            transform: rotateX(-180deg);
        }

        .envelope-letter {
            position: absolute;
            width: 90%;
            height: 85%;
            background: white;
            left: 5%;
            top: 7.5%;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: transform 0.8s 0.3s;
            z-index: 1;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .envelope.open .envelope-letter {
            transform: translateY(-150px);
        }

        .envelope-letter h2 {
            color: #db2777;
            font-family: 'Parisienne', cursive;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .envelope-letter p {
            color: #4a5568;
            font-size: 1em;
            text-align: center;
            padding: 0 20px;
        }

        .envelope-stamp {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 50px;
            height: 50px;
            background: white;
            border: 3px solid #db2777;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            z-index: 3;
        }

        .tap-instruction {
            position: absolute;
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 1.2em;
            font-family: 'Parisienne', cursive;
            animation: pulseAnim 2s infinite;
        }

        /* ============================================
           SILUETAS DE FONDO
        ============================================ */
        .princess-silhouette {
            position: fixed;
            opacity: 0.15;
            pointer-events: none;
            z-index: 1;
            animation: floatAnim 8s ease-in-out infinite;
        }

        .silhouette-1 {
            top: 10%;
            left: 5%;
            width: 150px;
            height: 180px;
        }

        .silhouette-2 {
            top: 20%;
            right: 3%;
            width: 130px;
            height: 160px;
        }

        .silhouette-3 {
            bottom: 15%;
            left: 8%;
            width: 140px;
            height: 170px;
        }

        .silhouette-4 {
            bottom: 25%;
            right: 5%;
            width: 145px;
            height: 175px;
        }

        .silhouette-castle {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            opacity: 0.08;
        }

        @keyframes floatAnim {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }

        @keyframes pulseAnim {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
        }

        @keyframes shimmerAnim {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes heartBeatAnim {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.2); }
            50% { transform: scale(1); }
        }

        @keyframes neonBreathAnim {
            0%, 100% {
                text-shadow: 
                    0 0 5px #fff,
                    0 0 10px #fff,
                    0 0 20px #ec4899,
                    0 0 40px #ec4899,
                    0 0 80px #ec4899;
            }
            50% {
                text-shadow: 
                    0 0 10px #fff,
                    0 0 20px #fff,
                    0 0 40px #ec4899,
                    0 0 60px #ec4899,
                    0 0 120px #ec4899;
            }
        }

        /* ============================================
           CONTENEDOR PRINCIPAL
        ============================================ */
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        /* ============================================
           T√çTULO Y NOMBRE
        ============================================ */
        .header-title {
            text-align: center;
            font-size: 3em;
            color: #fff;
            margin: 30px 0 20px;
            font-family: 'Parisienne', cursive;
            text-shadow: 
                0 0 10px rgba(236, 72, 153, 0.8),
                0 0 20px rgba(236, 72, 153, 0.6),
                0 0 30px rgba(219, 39, 119, 0.4),
                2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 400;
            letter-spacing: 3px;
            animation: pulseAnim 3s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .header-title .heart {
            font-size: 0.7em;
            animation: heartBeatAnim 1.5s infinite;
        }

        .neon-container {
            position: relative;
            text-align: center;
            margin: 40px 0 60px;
            min-height: 200px;
        }

        .crown {
            font-size: 5em;
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            animation: crownFloatAnim 3s ease-in-out infinite;
            filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.9));
            width: 100%;
            text-align: center;
        }

        @keyframes crownFloatAnim {
            0%, 100% { 
                transform: translateX(-50%) translateY(0) rotate(-5deg);
            }
            50% { 
                transform: translateX(-50%) translateY(-20px) rotate(5deg);
            }
        }

        .neon-name {
            font-size: 4em;
            font-family: 'Parisienne', cursive;
            font-weight: 700;
            color: #fff;
            text-shadow: 
                -2px -2px 0 #fff,
                2px -2px 0 #fff,
                -2px 2px 0 #fff,
                2px 2px 0 #fff,
                0 0 10px #fff,
                0 0 20px #fff,
                0 0 30px #ec4899,
                0 0 40px #ec4899,
                0 0 60px #ec4899,
                0 0 80px #db2777;
            letter-spacing: 8px;
            display: inline-block;
            position: relative;
            margin-top: 20px;
            animation: neonBreathAnim 2s ease-in-out infinite;
        }

        .star-decoration {
            position: absolute;
            font-size: 2em;
            animation: starRotateAnim 4s linear infinite;
            top: 50%;
        }

        .star-decoration.left {
            left: 10px;
            transform: translateY(-50%);
        }

        .star-decoration.right {
            right: 10px;
            transform: translateY(-50%);
            animation-direction: reverse;
        }

        @keyframes starRotateAnim {
            from { transform: translateY(-50%) rotate(0deg); }
            to { transform: translateY(-50%) rotate(360deg); }
        }

        .subtitle {
            text-align: center;
            font-size: 1.3em;
            color: #db2777;
            margin: 20px 0 40px;
            font-family: 'Parisienne', cursive;
        }

        /* ============================================
           SECCIONES DE EVENTOS
        ============================================ */
        .event-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 30px 0;
            box-shadow: 0 10px 40px rgba(219, 39, 119, 0.3);
            position: relative;
            overflow: hidden;
        }

        .event-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(236, 72, 153, 0.05) 50%,
                transparent 70%
            );
            animation: shimmerAnim 3s infinite;
        }

        .event-section h2 {
            color: #db2777;
            font-size: 2em;
            margin-bottom: 25px;
            text-align: center;
            font-family: 'Parisienne', cursive;
            position: relative;
            z-index: 1;
        }

        .event-details {
            background: white;
            border-left: 5px solid #ec4899;
            padding: 25px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }

        .event-details h3 {
            color: #db2777;
            margin-bottom: 15px;
            font-size: 1.5em;
            font-family: 'Parisienne', cursive;
        }

        .event-details p {
            color: #4a5568;
            margin: 10px 0;
            font-size: 1.05em;
            line-height: 1.8;
        }

        .event-details strong {
            color: #db2777;
            font-weight: 700;
        }

        .location-btn {
            background: linear-gradient(135deg, #BA55D3 0%, #DDA0DD 100%);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(186, 85, 211, 0.4);
            transition: all 0.3s;
            font-family: 'Great Vibes', cursive;
            font-weight: 400;
            margin-top: 15px;
            position: relative;
            overflow: hidden;
            letter-spacing: 1px;
        }

        .location-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.3) 50%,
                transparent 70%
            );
            animation: shimmerAnim 2s infinite;
        }

        .location-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(186, 85, 211, 0.5);
        }

        .entertainment-time {
            background: #fdf2f8;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #ec4899;
        }

        .entertainment-time h4 {
            color: #db2777;
            font-family: 'Parisienne', cursive;
            font-size: 1.3em;
            margin-bottom: 8px;
        }

        /* ============================================
           SECCI√ìN DE REGALOS
        ============================================ */
        .gift-section {
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 30px 0;
            box-shadow: 0 10px 40px rgba(236, 72, 153, 0.2);
        }

        .gift-section h2 {
            color: #db2777;
            font-size: 2em;
            margin-bottom: 30px;
            text-align: center;
            font-family: 'Parisienne', cursive;
        }

        .gift-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .gift-item {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(219, 39, 119, 0.15);
        }

        .gift-item h3 {
            color: #db2777;
            font-size: 1.4em;
            margin-bottom: 15px;
            font-family: 'Parisienne', cursive;
        }

        .gift-item p {
            color: #4a5568;
            font-size: 1.05em;
            line-height: 1.8;
            margin: 8px 0;
        }

        .gift-item .size-info {
            background: #fdf2f8;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #ec4899;
        }

        .gift-item .size-info strong {
            color: #db2777;
        }

        /* ============================================
           BOTONES
        ============================================ */
        .btn-container {
            text-align: center;
            margin: 40px 0;
        }

        .btn {
            background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.3em;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(219, 39, 119, 0.4);
            transition: all 0.3s;
            font-family: 'Parisienne', cursive;
            font-weight: 600;
            margin: 10px;
            display: inline-block;
            position: relative;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(219, 39, 119, 0.5);
            background: linear-gradient(135deg, #db2777 0%, #be185d 100%);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* ============================================
           M√öSICA Y ADMIN
        ============================================ */
        .music-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(219, 39, 119, 0.5);
            z-index: 1000;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }

        .music-btn:hover {
            transform: scale(1.15) rotate(15deg);
            box-shadow: 0 12px 35px rgba(219, 39, 119, 0.6);
        }

        .music-btn.playing {
            animation: pulseAnim 1.5s infinite;
        }

        .admin-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(219, 39, 119, 0.9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            z-index: 1000;
            transition: all 0.3s;
        }

        .admin-toggle.active {
            background: rgba(16, 185, 129, 0.9);
        }

        .counter-display {
            display: none;
            position: fixed;
            top: 70px;
            left: 20px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            z-index: 999;
            min-width: 200px;
        }

        .counter-display.visible {
            display: block;
        }

        .counter-display h3 {
            color: #db2777;
            margin-bottom: 15px;
            font-family: 'Parisienne', cursive;
        }

        .counter-display .stat {
            margin: 8px 0;
            color: #4a5568;
            font-size: 1.1em;
        }

        .counter-display .stat strong {
            color: #db2777;
        }

        /* ============================================
           MODALES
        ============================================ */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalSlideAnim 0.4s ease-out;
            max-height: 85vh;
            overflow-y: auto;
        }

        @keyframes modalSlideAnim {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close {
            color: #aaa;
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: #db2777;
        }

        .modal h2 {
            color: #db2777;
            margin-bottom: 25px;
            font-family: 'Parisienne', cursive;
            font-size: 2.2em;
        }

        .modal input {
            width: 100%;
            padding: 15px;
            margin: 12px 0;
            border: 2px solid #fce7f3;
            border-radius: 10px;
            font-size: 1.1em;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        .modal input:focus {
            outline: none;
            border-color: #ec4899;
        }

        .step-indicator {
            text-align: center;
            margin: 20px 0;
            color: #db2777;
            font-size: 1.1em;
            font-weight: 600;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        /* ============================================
           GALER√çA DE FOTOS
        ============================================ */
        .photo-carousel {
            position: relative;
            width: 100%;
            height: 350px;
            background: #f9fafb;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .carousel-image {
            display: none;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .carousel-image.active {
            display: block;
        }

        .upload-reminder {
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            animation: pulseAnim 2s infinite;
        }

        .upload-reminder p {
            color: #db2777;
            font-size: 1.1em;
            margin: 10px 0;
        }

        /* ============================================
           RESPONSIVE
        ============================================ */
        @media (max-width: 768px) {
            .header-title {
                font-size: 2.2em;
                gap: 10px;
            }

            .neon-name {
                font-size: 3em;
                letter-spacing: 5px;
            }

            .crown {
                font-size: 4em;
                top: -70px;
            }

            .star-decoration {
                font-size: 1.5em;
            }

            .event-section,
            .gift-section {
                padding: 25px 20px;
            }

            .btn {
                padding: 15px 35px;
                font-size: 1.1em;
            }

            .music-btn {
                width: 60px;
                height: 60px;
                bottom: 20px;
                right: 20px;
            }

            .envelope {
                width: 250px;
                height: 167px;
            }

            .tap-instruction {
                font-size: 1em;
                bottom: -60px;
            }
        }

        @media (max-width: 480px) {
            .header-title {
                font-size: 1.8em;
            }

            .neon-name {
                font-size: 2.5em;
                letter-spacing: 3px;
            }

            .crown {
                font-size: 3.5em;
                top: -60px;
            }
        }
    </style>
</head>
<body>
    <!-- SOBRE DE INVITACI√ìN -->
    <div class="envelope-container" id="envelopeContainer">
        <div class="envelope" id="envelope" onclick="openEnvelope()">
            <div class="envelope-stamp">üëë</div>
            <div class="envelope-back"></div>
            <div class="envelope-letter">
                <h2>Est√°s Invitado</h2>
                <p>A celebrar mis V A√±os</p>
            </div>
            <div class="envelope-front"></div>
            <div class="tap-instruction">Toca para abrir ‚ú®</div>
        </div>
    </div>

    <!-- SILUETAS DE FONDO -->
    <svg class="princess-silhouette silhouette-1" viewBox="0 0 100 150" fill="#ec4899">
        <path d="M50 10 L45 25 L40 30 L35 40 L35 80 L30 120 L35 150 L45 150 L50 140 L55 150 L65 150 L70 120 L65 80 L65 40 L60 30 L55 25 Z"/>
        <circle cx="50" cy="15" r="8"/>
    </svg>

    <svg class="princess-silhouette silhouette-2" viewBox="0 0 100 150" fill="#db2777">
        <path d="M50 15 L48 28 L43 35 L38 45 L38 85 L33 125 L38 150 L48 148 L50 138 L52 148 L62 150 L67 125 L62 85 L62 45 L57 35 L52 28 Z"/>
        <circle cx="50" cy="18" r="7"/>
    </svg>

    <svg class="princess-silhouette silhouette-3" viewBox="0 0 100 150" fill="#f472b6">
        <path d="M50 12 L46 26 L41 32 L36 42 L36 82 L31 122 L36 150 L46 149 L50 139 L54 149 L64 150 L69 122 L64 82 L64 42 L59 32 L54 26 Z"/>
        <circle cx="50" cy="16" r="7.5"/>
    </svg>

    <svg class="princess-silhouette silhouette-4" viewBox="0 0 100 150" fill="#ec4899">
        <path d="M50 13 L47 27 L42 33 L37 43 L37 83 L32 123 L37 150 L47 148 L50 138 L53 148 L63 150 L68 123 L63 83 L63 43 L58 33 L53 27 Z"/>
        <circle cx="50" cy="17" r="7"/>
    </svg>

    <svg class="princess-silhouette silhouette-castle" viewBox="0 0 200 200" fill="#db2777">
        <path d="M40 180 L40 100 L50 100 L50 80 L60 80 L60 60 L70 60 L70 80 L80 80 L80 100 L90 100 L90 60 L100 60 L100 40 L110 40 L110 60 L120 60 L120 100 L130 100 L130 80 L140 80 L140 60 L150 60 L150 80 L160 80 L160 100 L170 100 L170 180 Z"/>
        <rect x="85" y="140" width="30" height="40" fill="#f472b6"/>
    </svg>

    <!-- AUDIO -->
    <audio id="backgroundMusic" loop>
        <source src="golden_spanish.mp3" type="audio/mpeg">
    </audio>

    <!-- BOTONES FLOTANTES -->
    <button class="music-btn" id="musicBtn" onclick="toggleMusic()">üéµ</button>
    <button class="admin-toggle" id="adminToggle" onclick="toggleAdmin()">üëë Admin</button>

    <!-- CONTADOR ADMIN -->
    <div class="counter-display" id="counterDisplay">
        <h3>üìä Contador</h3>
‚úÖ 0 confirmados
üë• 0 personas
üë∂ 0 ni√±os

<!-- CONFETTI CANVAS -->
<canvas class="confetti-canvas" id="confettiCanvas"></canvas>

<!-- CONTENEDOR PRINCIPAL -->
<div class="container">
    <div class="header-title">
        <span class="heart">üíñ</span>
        <span>Mis V A√±os</span>
        <span class="heart">üíñ</span>
    </div>

    <div class="neon-container">
        <div class="crown">üëë</div>
        <div class="star-decoration left">‚ú®</div>
        <div class="neon-name">Ailany</div>
        <div class="star-decoration right">‚ú®</div>
    </div>

    <div class="subtitle">¬°Ven a celebrar conmigo!</div>

    <!-- CEREMONIA RELIGIOSA -->
    <div class="event-section">
        <h2>‚ú® Ceremonia Religiosa ‚ú®</h2>
        <div class="event-details">
            <h3>üíí Misa de Acci√≥n de Gracias</h3>
            <p><strong>üìÖ Fecha:</strong> S√°bado, 15 de Febrero de 2025</p>
            <p><strong>üïê Hora:</strong> 1:00 PM</p>
            <p><strong>üìç Lugar:</strong> Iglesia Santo Entierro</p>
            <p><strong>üó∫Ô∏è Direcci√≥n:</strong> Calle Principal #123, Centro</p>
            <button class="location-btn" onclick="openLocation('misa')">
                ‚õ™ Ver Ubicaci√≥n
            </button>
        </div>
    </div>

    <!-- CELEBRACI√ìN -->
    <div class="event-section">
        <h2>üéâ Celebraci√≥n üéâ</h2>
        <div class="event-details">
            <h3>üéä Fiesta y Diversi√≥n</h3>
            <p><strong>üìÖ Fecha:</strong> S√°bado, 15 de Febrero de 2025</p>
            <p><strong>üïí Hora:</strong> 3:00 PM</p>
            <p><strong>üìç Lugar:</strong> Sal√≥n de Eventos "Jard√≠n Encantado"</p>
            <p><strong>üó∫Ô∏è Direcci√≥n:</strong> Avenida de las Flores #456, Zona Norte</p>
            <button class="location-btn" onclick="openLocation('fiesta')">
                üìç Ver Ubicaci√≥n
            </button>
        </div>

        <div class="entertainment-time">
            <h4>üé® Pinta Carita</h4>
            <p><strong>‚è∞ Horario:</strong> 4:30 PM - 6:30 PM</p>
            <p>Dise√±os m√°gicos y creativos para todos los ni√±os</p>
        </div>

        <div class="entertainment-time">
            <h4>ü§° Show de Payaso</h4>
            <p><strong>‚è∞ Horario:</strong> 7:00 PM</p>
            <p>Risas, juegos y diversi√≥n garantizada</p>
        </div>
    </div>

    <!-- SECCI√ìN DE REGALOS -->
    <div class="gift-section">
        <h2>üéÅ Sugerencias de Regalos üéÅ</h2>
        <div class="gift-options">
            <div class="gift-item">
                <h3>üíù Opciones de Regalo</h3>
                <p>Si deseas hacerme un regalo, estas son algunas ideas que me encantar√≠an:</p>
                <p>üéÄ Juguetes y mu√±ecas</p>
                <p>üìö Libros infantiles</p>
                <p>üé® Material de arte y manualidades</p>
                <p>üí∞ Sobres con amor</p>
            </div>

            <div class="gift-item">
                <h3>üëó Si es Ropa</h3>
                <div class="size-info">
                    <p><strong>Talla de ropa:</strong> 5 a√±os</p>
                    <p><strong>Talla de zapatos:</strong> 12 MX / 13 US</p>
                    <p><strong>Colores favoritos:</strong> Rosa, Morado, Dorado</p>
                </div>
                <p style="margin-top: 15px; font-style: italic; color: #db2777;">
                    ¬°Pero recuerda, tu presencia es el mejor regalo! üíñ
                </p>
            </div>
        </div>
    </div>

    <!-- BOT√ìN CONFIRMAR -->
    <div class="btn-container">
        <button class="btn" onclick="openConfirmModal()">
            ‚úÖ Confirmar Asistencia
        </button>
    </div>

    <!-- GALER√çA DE FOTOS -->
    <div class="event-section">
        <h2>üì∏ Galer√≠a de Fotos üì∏</h2>
        <div class="upload-reminder">
            <p>üì∑ ¬°No olvides subir tus fotos del evento!</p>
            <p>Comparte los mejores momentos con todos üíñ</p>
        </div>
        <div class="photo-carousel" id="photoCarousel">
            <img class="carousel-image active" src="https://via.placeholder.com/800x400/ec4899/ffffff?text=Sube+tus+fotos+aqu√≠+üì∏" alt="Placeholder">
        </div>
        <input type="file" id="photoUpload" accept="image/*" multiple style="display:none;">
        <button class="btn" onclick="document.getElementById('photoUpload').click()">
            üì§ Subir Fotos
        </button>
    </div>

    <!-- MENSAJE FINAL -->
    <div class="event-section" style="text-align: center;">
        <h2>üíñ Gracias por Acompa√±arme üíñ</h2>
        <p style="font-size: 1.2em; color: #4a5568; line-height: 1.8;">
            Tu presencia es el mejor regalo que puedo recibir en este d√≠a tan especial. 
            ¬°Espero celebrar junto a ti este momento m√°gico! ‚ú®
        </p>
        <p style="margin-top: 20px; color: #db2777; font-size: 1.5em; font-family: 'Parisienne', cursive;">
            Con cari√±o, Ailany üëë
        </p>
    </div>
</div>

<!-- MODAL DE CONFIRMACI√ìN -->
<div id="confirmModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeConfirmModal()">&times;</span>
        <h2>‚ú® Confirmar Asistencia ‚ú®</h2>
        <div class="step-indicator" id="stepIndicator">Paso 1 de 3</div>
        
        <div id="step1" class="step-content">
            <input 
                type="text" 
                id="guestName" 
                placeholder="Tu nombre completo" 
                minlength="3"
            >
            <button class="btn" onclick="goToStep2()" style="width: 100%; margin-top: 15px;">
                Siguiente ‚Üí
            </button>
        </div>

        <div id="step2" class="step-content" style="display:none;">
            <input 
                type="number" 
                id="totalPeopleInput" 
                placeholder="Total de personas" 
                min="3"
            >
            <p style="color: #666; font-size: 0.9em; margin-top: 10px;">M√≠nimo 3 personas</p>
            <button class="btn" onclick="goToStep3()" style="width: 100%; margin-top: 15px;">
                Siguiente ‚Üí
            </button>
        </div>

        <div id="step3" class="step-content" style="display:none;">
            <input 
                type="number" 
                id="kidsInput" 
                placeholder="Ni√±os menores de 7 a√±os (0 si no hay)" 
                min="0"
            >
            <button class="btn" id="confirmBtn" onclick="confirmAssistance()" style="width: 100%; margin-top: 15px;">
                üì® Enviar Confirmaci√≥n
            </button>
        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script>
    // ============================================
    // VARIABLES GLOBALES
    // ============================================
    let confirmations = [];
    let musicPlaying = false;
    let adminMode = false;
    let currentStep = 1;
    let currentCarouselIndex = 0;
    let carouselInterval;
    let photoGallery = [];
    let envelopeOpened = false;

    const musicElement = document.getElementById('backgroundMusic');
    const musicBtn = document.getElementById('musicBtn');
    const VIP_FAMILIES = ['garc√≠a', 'rodr√≠guez', 'mart√≠nez', 'l√≥pez'];
    const VIP_ENABLED = true;
    const WHATSAPP_NUMBER = '2221012336';

    // ============================================
    // ABRIR SOBRE Y REPRODUCIR M√öSICA
    // ============================================
    function openEnvelope() {
        if (envelopeOpened) return;
        
        const envelope = document.getElementById('envelope');
        const container = document.getElementById('envelopeContainer');
        
        envelope.classList.add('open');
        envelopeOpened = true;

        // Reproducir m√∫sica autom√°ticamente
        setTimeout(() => {
            musicElement.play().then(() => {
                musicPlaying = true;
                musicBtn.textContent = 'üé∂';
                musicBtn.classList.add('playing');
            }).catch(err => {
                console.log('Autoplay bloqueado:', err);
            });
        }, 800);

        // Ocultar sobre despu√©s de la animaci√≥n
        setTimeout(() => {
            container.classList.add('hidden');
        }, 2500);
    }

    // ============================================
    // CONFETTI MEJORADO
    // ============================================
    class Confetti {
        constructor(canvas) {
            this.canvas = canvas;
            this.ctx = canvas.getContext('2d');
            this.particles = [];
            this.colors = ['#ec4899', '#db2777', '#f472b6', '#fbcfe8', '#fce7f3', '#FFD700', '#FFA500'];
            this.resize();
            window.addEventListener('resize', () => this.resize());
        }

        resize() {
            this.canvas.width = window.innerWidth;
            this.canvas.height = window.innerHeight;
        }

        createParticle(x, y, isBackground = false) {
            return {
                x: x || Math.random() * this.canvas.width,
                y: y || -10,
                vx: (Math.random() - 0.5) * (isBackground ? 0.5 : 8),
                vy: Math.random() * (isBackground ? 1 : 10) + (isBackground ? 0.5 : 2),
                rotation: Math.random() * 360,
                rotationSpeed: (Math.random() - 0.5) * (isBackground ? 2 : 10),
                size: Math.random() * (isBackground ? 4 : 12) + (isBackground ? 2 : 6),
                color: this.colors[Math.floor(Math.random() * this.colors.length)],
                opacity: isBackground ? 0.3 : 1,
                gravity: isBackground ? 0.02 : 0.3,
                drag: isBackground ? 0.995 : 0.98,
                isBackground: isBackground
            };
        }

        launch() {
            for (let i = 0; i < 150; i++) {
                const x = this.canvas.width / 2 + (Math.random() - 0.5) * 200;
                this.particles.push(this.createParticle(x, this.canvas.height));
            }
            
            for (let i = 0; i < 50; i++) {
                this.particles.push(this.createParticle(null, null, true));
            }

            this.animate();
        }

        animate() {
            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            
            for (let i = this.particles.length - 1; i >= 0; i--) {
                const p = this.particles[i];
                
                p.vy += p.gravity;
                p.vx *= p.drag;
                p.vy *= p.drag;
                p.x += p.vx;
                p.y += p.vy;
                p.rotation += p.rotationSpeed;

                if (p.y > this.canvas.height + 50) {
                    this.particles.splice(i, 1);
                    continue;
                }

                this.ctx.save();
                this.ctx.translate(p.x, p.y);
                this.ctx.rotate(p.rotation * Math.PI / 180);
                this.ctx.globalAlpha = p.opacity;
                this.ctx.fillStyle = p.color;
                
                if (Math.random() > 0.5) {
                    this.ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
                } else {
                    this.ctx.beginPath();
                    this.ctx.arc(0, 0, p.size/2, 0, Math.PI * 2);
                    this.ctx.fill();
                }
                
                this.ctx.restore();
            }

            if (this.particles.length > 0) {
                requestAnimationFrame(() => this.animate());
            }
        }
    }

    const confetti = new Confetti(document.getElementById('confettiCanvas'));

    // ============================================
    // CONTROL DE M√öSICA
    // ============================================
    function toggleMusic() {
        if (musicPlaying) {
            musicElement.pause();
            musicBtn.textContent = 'üéµ';
            musicBtn.classList.remove('playing');
            musicPlaying = false;
        } else {
            musicElement.play();
            musicBtn.textContent = 'üé∂';
            musicBtn.classList.add('playing');
            musicPlaying = true;
        }
    }

    // ============================================
    // ADMIN MODE
    // ============================================
    function toggleAdmin() {
        adminMode = !adminMode;
        const toggle = document.getElementById('adminToggle');
        const counter = document.getElementById('counterDisplay');
        
        if (adminMode) {
            toggle.classList.add('active');
            toggle.textContent = '‚úÖ Admin ON';
            counter.classList.add('visible');
            updateCounter();
        } else {
            toggle.classList.remove('active');
            toggle.textContent = 'üëë Admin';
            counter.classList.remove('visible');
        }
    }

    function updateCounter() {
        const stored = localStorage.getItem('confirmations');
        if (stored) {
            confirmations = JSON.parse(stored);
        }

        let totalPeople = 0;
        let totalKids = 0;

        confirmations.forEach(c => {
            totalPeople += c.people;
            totalKids += c.kids;
        });

        document.getElementById('totalConfirmed').textContent = confirmations.length;
        document.getElementById('totalPeople').textContent = totalPeople;
        document.getElementById('totalKids').textContent = totalKids;
    }

    // ============================================
    // MODAL DE CONFIRMACI√ìN
    // ============================================
    function openConfirmModal() {
        document.getElementById('confirmModal').style.display = 'block';
        currentStep = 1;
        showStep(1);
    }

    function closeConfirmModal() {
        document.getElementById('confirmModal').style.display = 'none';
        resetForm();
    }

    function resetForm() {
        document.getElementById('guestName').value = '';
        document.getElementById('totalPeopleInput').value = '';
        document.getElementById('kidsInput').value = '';
        currentStep = 1;
        showStep(1);
    }

    function showStep(step) {
        document.getElementById('step1').style.display = 'none';
        document.getElementById('step2').style.display = 'none';
        document.getElementById('step3').style.display = 'none';
        document.getElementById('step' + step).style.display = 'block';
        document.getElementById('stepIndicator').textContent = 'Paso ' + step + ' de 3';
    }

    function goToStep2() {
        const name = document.getElementById('guestName').value.trim();
        
        if (name.length < 3) {
            alert('‚ùå El nombre debe tener al menos 3 caracteres');
            return;
        }

        currentStep = 2;
        showStep(2);
    }

    function goToStep3() {
        const people = parseInt(document.getElementById('totalPeopleInput').value);
        const name = document.getElementById('guestName').value.trim().toLowerCase();
        
        if (!people || people < 1) {
            alert('‚ùå Debes ingresar el n√∫mero de personas');
            return;
        }

        if (VIP_ENABLED) {
            const isVIP = VIP_FAMILIES.some(family => name.includes(family));
            
            if (isVIP && people > 8) {
                alert('‚ùå Familia VIP: m√°ximo 8 personas');
                return;
            }
            
            if (!isVIP && people < 3) {
                alert('‚ùå M√≠nimo 3 personas por familia');
                return;
            }
        } else {
            if (people < 3) {
                alert('‚ùå M√≠nimo 3 personas por familia');
                return;
            }
        }

        currentStep = 3;
        showStep(3);
    }

    function confirmAssistance() {
        const btn = document.getElementById('confirmBtn');
        const name = document.getElementById('guestName').value.trim();
        const people = parseInt(document.getElementById('totalPeopleInput').value);
        const kids = parseInt(document.getElementById('kidsInput').value) || 0;

        if (kids < 0) {
            alert('‚ùå El n√∫mero de ni√±os no puede ser negativo');
            return;
        }

        if (kids > people) {
            alert('‚ùå El n√∫mero de ni√±os no puede ser mayor al total de personas');
            return;
        }

        btn.disabled = true;
        btn.innerHTML = '<span class="loading-spinner"></span> Enviando...';

        const adults = people - kids;

        const confirmation = {
            name: name,
            people: people,
            adults: adults,
            kids: kids,
            date: new Date().toLocaleString()
        };

        confirmations.push(confirmation);
        localStorage.setItem('confirmations', JSON.stringify(confirmations));

        const message = `üéâ CONFIRMACI√ìN DE ASISTENCIA üéâ\n\n` +
            `üë§ Nombre: ${name}\n` +
            `üë• Total de personas: ${people}\n` +
            `üë®‚Äçüë©‚Äçüëß Adultos: ${adults}\n` +
            `üë∂ Ni√±os menores de 7 a√±os: ${kids}\n\n` +
            `üìÖ Evento: V A√±os de Ailany\n` +
            `üìç Fecha: 15 de Febrero de 2025\n` +
            `‚è∞ Hora Misa: 1:00 PM\n` +
            `üéâ Hora Fiesta: 3:00 PM`;

        const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;

        confetti.launch();

        setTimeout(() => {
            downloadCalendar();
        }, 500);

        setTimeout(() => {
            window.open(whatsappUrl, '_blank');
        }, 1000);

        setTimeout(() => {
            btn.disabled = false;
            btn.innerHTML = 'üì® Enviar Confirmaci√≥n';
            closeConfirmModal();
            alert('‚úÖ ¬°Confirmaci√≥n enviada con √©xito!\n\n' +
                  'Se descarg√≥ el evento en tu calendario üìÖ\n\n' +
                  'Gracias ' + name + ' por confirmar tu asistencia. üíñ');
            
            if (adminMode) {
                updateCounter();
            }
        }, 1500);
    }

    // ============================================
    // DESCARGAR CALENDARIO
    // ============================================
    function downloadCalendar() {
        const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//V A√±os Ailany//ES
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:V A√±os de Ailany
X-WR-TIMEZONE:America/Mexico_City
BEGIN:VEVENT
DTSTART:20250215T190000Z
DTEND:20250215T200000Z
DTSTAMP:${new Date().toISOString().replace(/[-:]/g, '').split('.')[0]}Z
UID:misa-ailany-2025@vanos.com
SUMMARY:üíí Misa de Acci√≥n de Gracias - V A√±os Ailany
DESCRIPTION:Ceremonia religiosa en honor a los V a√±os de Ailany. ¬°No faltes!
LOCATION:Iglesia Santo Entierro, Calle Principal #123, Centro
STATUS:CONFIRMED
SEQUENCE:0
BEGIN:VALARM
TRIGGER:-P1D
DESCRIPTION:Ma√±ana es la misa de Ailany üíñ
ACTION:DISPLAY
END:VALARM
BEGIN:VALARM
TRIGGER:-PT2H
DESCRIPTION:En 2 horas comienza la misa de Ailany üíí
ACTION:DISPLAY
END:VALARM
END:VEVENT
BEGIN:VEVENT
DTSTART:20250215T210000Z
DTEND:20250216T030000Z
DTSTAMP:${new Date().toISOString().replace(/[-:]/g, '').split('.')[0]}Z
UID:fiesta-ailany-2025@vanos.com
SUMMARY:üéâ Fiesta V A√±os - Ailany
DESCRIPTION:¬°Fiesta y celebraci√≥n! Pinta Carita 4:30-6:30 PM. Show de Payaso 7:00 PM.
LOCATION:Sal√≥n Jard√≠n Encantado, Avenida de las Flores #456, Zona Norte
STATUS:CONFIRMED
SEQUENCE:0
BEGIN:VALARM
TRIGGER:-P1D
DESCRIPTION:Ma√±ana es la fiesta de Ailany üéâ
ACTION:DISPLAY
END:VALARM
BEGIN:VALARM
TRIGGER:-PT2H
DESCRIPTION:En 2 horas comienza la fiesta de Ailany üíñ
ACTION:DISPLAY
END:VALARM
END:VEVENT
END:VCALENDAR`;
const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'V-A√±os-Ailany.ics';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }

    // ============================================
    // UBICACIONES
    // ============================================
    function openLocation(type) {
        if (type === 'misa') {
            window.open('https://maps.google.com/?q=Iglesia+Santo+Entierro', '_blank');
        } else if (type === 'fiesta') {
            window.open('https://maps.google.com/?q=Salon+Jardin+Encantado', '_blank');
        }
    }

    // ============================================
    // GALER√çA DE FOTOS
    // ============================================
    document.getElementById('photoUpload').addEventListener('change', function(e) {
        const files = e.target.files;
        
        for (let file of files) {
            if (file.type.startsWith('image/')) {
                const reader = new FileReader();
                
                reader.onload = function(event) {
                    photoGallery.push(event.target.result);
                    localStorage.setItem('photoGallery', JSON.stringify(photoGallery));
                    updateCarousel();
                };
                
                reader.readAsDataURL(file);
            }
        }
    });

    function updateCarousel() {
        const carousel = document.getElementById('photoCarousel');
        carousel.innerHTML = '';

        if (photoGallery.length === 0) {
            carousel.innerHTML = '<img class="carousel-image active" src="https://via.placeholder.com/800x400/ec4899/ffffff?text=Sube+tus+fotos+aqu√≠+üì∏" alt="Placeholder">';
            return;
        }

        photoGallery.forEach((photo, index) => {
            const img = document.createElement('img');
            img.src = photo;
            img.className = 'carousel-image' + (index === 0 ? ' active' : '');
            img.alt = 'Foto ' + (index + 1);
            carousel.appendChild(img);
        });

        startCarousel();
    }

    function startCarousel() {
        if (carouselInterval) {
            clearInterval(carouselInterval);
        }

        if (photoGallery.length <= 1) return;

        carouselInterval = setInterval(() => {
            const images = document.querySelectorAll('.carousel-image');
            images[currentCarouselIndex].classList.remove('active');
            
            currentCarouselIndex = (currentCarouselIndex + 1) % images.length;
            images[currentCarouselIndex].classList.add('active');
        }, 4000);
    }

    // ============================================
    // INICIALIZACI√ìN
    // ============================================
    window.onload = function() {
        const stored = localStorage.getItem('confirmations');
        if (stored) {
            confirmations = JSON.parse(stored);
        }

        const storedGallery = localStorage.getItem('photoGallery');
        if (storedGallery) {
            photoGallery = JSON.parse(storedGallery);
            updateCarousel();
        }
    };

    window.onclick = function(event) {
        const modal = document.getElementById('confirmModal');
        if (event.target == modal) {
            closeConfirmModal();
        }
    };
</script>

